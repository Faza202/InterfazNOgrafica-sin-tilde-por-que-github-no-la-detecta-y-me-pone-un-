<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp5.MainPage">

    <Grid>
        <!--el scroll es para que se pueda bajar para ver todo, como si fuera un pergamino donde va a ir todo-->
        <ScrollView>
            <VerticalStackLayout Padding="30,60,30,30" Spacing="25">
                <!--salto de linea-->
                <Label Text="¡Bienvenido a MyplanU!&#10;Baja para iniciar sesión o registrarte."  
                    Style="{StaticResource Headline}"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"
                       Margin="0,0,0,30"/>

                <Label Text="Registro de Usuario"
                       Style="{StaticResource Headline}"
                       SemanticProperties.HeadingLevel="Level1" />

                <!--email-->
                <Label Text="Correo" />
                <Entry Placeholder="tu@correo.com"
                       Keyboard="Email"
                       Text="{Binding Correo}" />
                <Label x:Name="CorreoErrorLabel"
                       Text="{Binding CorreoError}"
                       TextColor="Red"
                       Opacity="0" />

                <!--pues lo que dice abajo-->
                <Label Text="Contraseña" />
                <Entry Placeholder="Mín.8: mayúscula, minúscula, número y símbolo"
                       IsPassword="True"
                       Text="{Binding Contrasena}" />
                <Label x:Name="ContrasenaErrorLabel"
                       Text="{Binding ContrasenaError}"
                       TextColor="Red"
                       Opacity="0" />

                <!--validar contraseña-->
                <Label Text="Repetir contraseña" />
                <Entry Placeholder="Repite la contraseña"
                       IsPassword="True"
                       Text="{Binding RepetirContrasena}" />
                <Label x:Name="RepetirContrasenaErrorLabel"
                       Text="{Binding RepetirContrasenaError}"
                       TextColor="Red"
                       Opacity="0" />

                <!-- Pregunta y Respuesta de Seguridad -->
                <Label Text="Pregunta de seguridad" />
                <Entry Placeholder="Ej: ¿Que tipo de mujeres te gustan?"
                       Text="{Binding PreguntaSeguridad}" />

                <Label Text="Respuesta de seguridad" />
                <Entry Placeholder="La respuesta a tu pregunta"
                       Text="{Binding RespuestaSeguridad}" />
                <Label x:Name="PreguntaSeguridadErrorLabel"
                       Text="{Binding PreguntaSeguridadError}"
                       TextColor="Red"
                       Opacity="0" />

                <!--registros-->
                <Label x:Name="RegistroMensajeLabel"
                       Text="{Binding RegistroMensaje}"
                       Opacity="0"
                       FontAttributes="Bold"
                       HorizontalOptions="Center">
                    <Label.Triggers>
                        <DataTrigger TargetType="Label"
                                     Binding="{Binding RegistroExitoso}"
                                     Value="True">
                            <Setter Property="TextColor" Value="Green" />
                        </DataTrigger>
                        <DataTrigger TargetType="Label"
                                     Binding="{Binding RegistroExitoso}"
                                     Value="False">
                            <Setter Property="TextColor" Value="Red" />
                        </DataTrigger>
                    </Label.Triggers>
                </Label>

                <Button Text="Registrar"
                        Clicked="OnRegistrarClicked"
                        Pressed="OnButtonPressed"
                        Released="OnButtonReleased"
                        HorizontalOptions="Fill" />

                <!--separador para que no quede todo aplastado entre si-->
                <BoxView HeightRequest="1" Color="Gray" Margin="0,40" />

                <!--sección de Login -->
                <Label Text="Iniciar Sesión"
                       Style="{StaticResource Headline}"
                       SemanticProperties.HeadingLevel="Level1" />

                <Label Text="Correo" />
                <Entry Placeholder="tu@correo.com"
                       Keyboard="Email"
                       Text="{Binding LoginCorreo}" />

                <Label Text="Contraseña" />
                <Entry IsPassword="True"
                       Text="{Binding LoginContrasena}" />

                <!--cosas del login-->
                <Label x:Name="LoginMensajeLabel"
                       Text="{Binding LoginMensaje}"
                       Opacity="0"
                       FontAttributes="Bold"
                       HorizontalOptions="Center">
                    <Label.Triggers>
                        <DataTrigger TargetType="Label"
                                     Binding="{Binding LoginExitoso}"
                                     Value="True">
                            <Setter Property="TextColor" Value="Green" />
                        </DataTrigger>
                        <DataTrigger TargetType="Label"
                                     Binding="{Binding LoginExitoso}"
                                     Value="False">
                            <Setter Property="TextColor" Value="Red" />
                        </DataTrigger>
                    </Label.Triggers>
                </Label>

                <Button Text="Iniciar Sesión"
                        Clicked="OnLoginClicked"
                        Pressed="OnButtonPressed"
                        Released="OnButtonReleased"
                        HorizontalOptions="Fill" />

                <Button Text="¿Olvidaste tu contraseña?"
                        Clicked="OnOlvidoContrasenaClicked"
                        HorizontalOptions="Center"
                        BackgroundColor="Transparent"
                        TextColor="{StaticResource Primary}"
                        BorderWidth="0" />

            </VerticalStackLayout>
        </ScrollView>

        <!--botón de promty me que pidió erving, para cuando estes leyendo esto espero que osman se mejore-->
        <VerticalStackLayout HorizontalOptions="End" VerticalOptions="Start" Padding="10" Spacing="5">
            <Label Text="¿Necesitas ayuda?" HorizontalOptions="End" HorizontalTextAlignment="End" />
            <Button Text="promty" Clicked="OnPromtyClicked" HorizontalOptions="End" />
        </VerticalStackLayout>
    </Grid>

</ContentPage>